<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Daisy Chained JS from CSS</title>
	<style>
		.extras {
			content:"<script class=\"extras2\" type=\"text/javascript\">appendMagic('.extras2');</script>";
		}
		.extras2 {
			content:"<script class=\"extras3\" type=\"text/javascript\">appendMagic('.extras3');</script>";
		}
		.extras3 {
			content:"a";
		}
	</style>
</head>
<body>
	<p>This is a demo of daisy-chaining JavaScript using the CSS "Content" attribute.</p>
	<script type="text/javascript" src="Kickstrap/js/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" class="extras" id="daisyChain">
	appendMagic('#daisyChain');
	function appendMagic(appendee) {
		document.write(stripslashes($(appendee).css('content')));
		function stripslashes(str) {
			str=str.replace(/\\'/g,'\'');
			str=str.replace(/\\"/g,'"');
			str=str.replace(/\\0/g,'\0');
			str=str.replace(/\\\\/g,'\\');
			str=str.substring(1,str.length-1);
			return str;
		}
	}
	</script>
</body>
</html>